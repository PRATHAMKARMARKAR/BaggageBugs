generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id          String     @id @default(uuid())
  email       String     @unique
  name        String
  dateOfBirth DateTime?
  firstName   String?
  lastName    String?
  password    String
  phoneNo     String?    @unique
  toogleEmail Boolean?   @default(false)
  bookings    Booking[]
  Facility    Facility[]
  luggage     Luggage[]
  reviews     Review[]
}

model Booking {
  id            String    @id @default(uuid())
  userId        String
  facilityId    String
  area          String
  dropIn        DateTime
  pickup        DateTime
  paymentStatus String
  luggageType   String
  facility      Facility  @relation(fields: [facilityId], references: [id])
  user          User      @relation(fields: [userId], references: [id])
  luggage       Luggage[]
}

model Luggage {
  id        String  @id @default(uuid())
  userId    String
  bookingId String
  booking   Booking @relation(fields: [bookingId], references: [id])
  user      User    @relation(fields: [userId], references: [id])
}

model Facility {
  id       String    @id @default(uuid())
  name     String
  address  String
  phone    String
  services String
  capacity Int
  timing   String?
  email    String
  limited  Boolean?
  type     String
  userId   String
  bookings Booking[]
  User     User      @relation(fields: [userId], references: [id])
  reviews  Review[]
}

model Review {
  id         String   @id @default(uuid())
  userId     String
  facilityId String
  rating     Int
  feedback   String
  facility   Facility @relation(fields: [facilityId], references: [id])
  user       User     @relation(fields: [userId], references: [id])
}
